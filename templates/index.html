<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Leviosa ‚Äì Speech to Text Video</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{background:#f4f6f9}
.navbar-brand{font-weight:800;font-size:22px}
.steps-wrap{background:#eef1f4;padding:70px 0}
.step-card{
  background:#fff;border-radius:28px;padding:50px 40px;height:100%;
  box-shadow:0 10px 30px rgba(0,0,0,.06)
}
.step-icon{width:100px;margin-bottom:25px}
.step-title{font-size:30px;font-weight:800;margin-bottom:20px}
.subtitle-item{
  background:#fff;border:1px solid #e6e6e6;border-radius:12px;
  padding:12px;margin-bottom:10px
}
.subtitle-time{font-size:12px;color:#6c757d}
</style>
</head>

<body>

<!-- MENU -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
  <div class="container">
    <a class="navbar-brand" href="/">‚ú® Leviosa</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#leviosaNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="leviosaNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="/">Trang ch·ªß</a></li>
        <li class="nav-item"><a class="nav-link" href="#upload">Chuy·ªÉn ƒë·ªïi</a></li>
        <li class="nav-item"><a class="nav-link" href="#guide">H∆∞·ªõng d·∫´n</a></li>
        <li class="nav-item"><a class="nav-link" href="#about">Gi·ªõi thi·ªáu</a></li>
      </ul>
      <a href="#upload" class="btn btn-light ms-lg-3">üöÄ B·∫Øt ƒë·∫ßu</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="py-5 text-center bg-primary text-white">
  <div class="container">
    <h1 class="fw-bold">Chuy·ªÉn gi·ªçng n√≥i trong video th√†nh ph·ª• ƒë·ªÅ</h1>
    <p class="lead">Whisper AI ‚Ä¢ H·ªó tr·ª£ ti·∫øng Vi·ªát</p>
  </div>
</section>

<!-- STEPS -->
<div class="steps-wrap">
  <div class="container">
    <div class="row g-4 text-center">
      <div class="col-md-4">
        <div class="step-card">
          <div class="step-title">1Ô∏è‚É£ T·∫£i video</div>
          <p>Upload video MP4 c√≥ gi·ªçng n√≥i</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="step-card">
          <div class="step-title">2Ô∏è‚É£ Nh·∫≠n di·ªán</div>
          <p>Whisper x·ª≠ l√Ω √¢m thanh</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="step-card">
          <div class="step-title">3Ô∏è‚É£ Nh·∫≠n k·∫øt qu·∫£</div>
          <p>Xem text, subtitle, video</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="container my-5" id="upload">
<div class="card shadow">
<div class="card-body">

<form method="POST" enctype="multipart/form-data" onsubmit="showLoading()">
  <input type="file" name="video" class="form-control mb-3" accept="video/mp4" required>

  <div class="row mb-3">
    <div class="col">
      <label><input type="radio" name="mode" value="text" checked> VƒÉn b·∫£n</label>
    </div>
    <div class="col">
      <label><input type="radio" name="mode" value="subtitle"> Subtitle</label>
    </div>
  </div>

  <button class="btn btn-primary w-100">üöÄ Chuy·ªÉn ƒë·ªïi</button>
</form>

<div id="loadingBox" class="alert alert-info mt-3 text-center" style="display:none">
  <div class="spinner-border"></div>
  <p class="mb-0">Leviosa ƒëang x·ª≠ l√Ω‚Ä¶</p>
</div>

{% if text %}
<hr>
<textarea class="form-control" rows="8">{{ text }}</textarea>
{% endif %}

{% if subtitles %}
<hr>
{% for s in subtitles %}
  <div class="subtitle-item">
    <div class="subtitle-time">{{ s.start }} ‚Üí {{ s.end }}</div>
    {{ s.text }}
  </div>
{% endfor %}

<a href="/burn/{{ video_id }}" class="btn btn-success w-100 mt-3">
üé¨ Chuy·ªÉn video c√≥ ph·ª• ƒë·ªÅ
</a>
{% endif %}

{% if final_video_path %}
<hr>
<video width="100%" controls>
  <source src="{{ final_video_path }}" type="video/mp4">
</video>
<a href="{{ final_video_path }}" class="btn btn-outline-success w-100 mt-2">
‚¨áÔ∏è T·∫£i video
</a>
{% endif %}

</div>
</div>
</div>

<!-- GUIDE -->
<section id="guide" class="container my-5">
  <h3 class="fw-bold">üìò H∆∞·ªõng d·∫´n</h3>
  <ol>
    <li>Upload video MP4</li>
    <li>Nh·∫•n Chuy·ªÉn ƒë·ªïi</li>
    <li>Xem k·∫øt qu·∫£ & t·∫°o video</li>
  </ol>
</section>

<!-- ABOUT -->
<section id="about" class="bg-light py-5">
  <div class="container">
    <h3 class="fw-bold">‚ú® V·ªÅ Leviosa</h3>
    <p>
      Leviosa l√† c√¥ng c·ª• chuy·ªÉn gi·ªçng n√≥i trong video th√†nh vƒÉn b·∫£n v√† ph·ª• ƒë·ªÅ
      b·∫±ng AI Whisper, t·ªëi ∆∞u cho ti·∫øng Vi·ªát.
    </p>
  </div>
</section>

<footer class="bg-dark text-white text-center py-4">
¬© 2025 Leviosa
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
function showLoading(){
  document.getElementById("loadingBox").style.display="block";
}
</script>

</body>
</html>
